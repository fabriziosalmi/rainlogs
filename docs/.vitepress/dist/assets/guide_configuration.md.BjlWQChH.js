import{_ as s,o as a,c as i,ag as e}from"./chunks/framework.DRvAPM3c.js";const k=JSON.parse('{"title":"Configuration","description":"","frontmatter":{},"headers":[],"relativePath":"guide/configuration.md","filePath":"guide/configuration.md"}'),n={name:"guide/configuration.md"};function d(o,t,h,r,l,p){return a(),i("div",null,[...t[0]||(t[0]=[e(`<h1 id="configuration" tabindex="-1">Configuration <a class="header-anchor" href="#configuration" aria-label="Permalink to &quot;Configuration&quot;">​</a></h1><p>Rainlogs uses <a href="https://github.com/spf13/viper" target="_blank" rel="noreferrer">Viper</a> for configuration management. It supports reading from environment variables, configuration files (e.g., <code>config.yaml</code>), and command-line flags.</p><h2 id="environment-variables" tabindex="-1">Environment Variables <a class="header-anchor" href="#environment-variables" aria-label="Permalink to &quot;Environment Variables&quot;">​</a></h2><p>The primary way to configure Rainlogs is through environment variables. The application expects variables to be prefixed with <code>RAINLOGS_</code>.</p><h3 id="core-settings" tabindex="-1">Core Settings <a class="header-anchor" href="#core-settings" aria-label="Permalink to &quot;Core Settings&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Variable</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>RAINLOGS_ENV</code></td><td>The environment (e.g., <code>development</code>, <code>production</code>).</td><td><code>development</code></td></tr><tr><td><code>RAINLOGS_PORT</code></td><td>The port the API listens on.</td><td><code>8080</code></td></tr><tr><td><code>RAINLOGS_LOG_LEVEL</code></td><td>The logging level (e.g., <code>debug</code>, <code>info</code>, <code>warn</code>, <code>error</code>).</td><td><code>info</code></td></tr></tbody></table><h3 id="database" tabindex="-1">Database <a class="header-anchor" href="#database" aria-label="Permalink to &quot;Database&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Variable</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>RAINLOGS_DB_HOST</code></td><td>The PostgreSQL host.</td><td><code>localhost</code></td></tr><tr><td><code>RAINLOGS_DB_PORT</code></td><td>The PostgreSQL port.</td><td><code>5432</code></td></tr><tr><td><code>RAINLOGS_DB_USER</code></td><td>The PostgreSQL user.</td><td><code>postgres</code></td></tr><tr><td><code>RAINLOGS_DB_PASSWORD</code></td><td>The PostgreSQL password.</td><td><code>postgres</code></td></tr><tr><td><code>RAINLOGS_DB_NAME</code></td><td>The PostgreSQL database name.</td><td><code>rainlogs</code></td></tr></tbody></table><h3 id="redis" tabindex="-1">Redis <a class="header-anchor" href="#redis" aria-label="Permalink to &quot;Redis&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Variable</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>RAINLOGS_REDIS_HOST</code></td><td>The Redis host.</td><td><code>localhost</code></td></tr><tr><td><code>RAINLOGS_REDIS_PORT</code></td><td>The Redis port.</td><td><code>6379</code></td></tr><tr><td><code>RAINLOGS_REDIS_PASSWORD</code></td><td>The Redis password.</td><td><code>&quot;&quot;</code></td></tr></tbody></table><h3 id="storage-garage-s3" tabindex="-1">Storage (Garage S3) <a class="header-anchor" href="#storage-garage-s3" aria-label="Permalink to &quot;Storage (Garage S3)&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Variable</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>RAINLOGS_STORAGE_ENDPOINT</code></td><td>The S3 endpoint URL.</td><td><code>http://localhost:3900</code></td></tr><tr><td><code>RAINLOGS_STORAGE_REGION</code></td><td>The S3 region.</td><td><code>us-east-1</code></td></tr><tr><td><code>RAINLOGS_STORAGE_BUCKET</code></td><td>The S3 bucket name.</td><td><code>rainlogs-data</code></td></tr><tr><td><code>RAINLOGS_STORAGE_ACCESS_KEY</code></td><td>The S3 access key ID.</td><td><code>&quot;&quot;</code></td></tr><tr><td><code>RAINLOGS_STORAGE_SECRET_KEY</code></td><td>The S3 secret access key.</td><td><code>&quot;&quot;</code></td></tr></tbody></table><h3 id="security" tabindex="-1">Security <a class="header-anchor" href="#security" aria-label="Permalink to &quot;Security&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Variable</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>RAINLOGS_KMS_KEY</code></td><td>The 32-byte base64-encoded KMS key used for encryption.</td><td><code>&quot;&quot;</code></td></tr></tbody></table><h2 id="configuration-file" tabindex="-1">Configuration File <a class="header-anchor" href="#configuration-file" aria-label="Permalink to &quot;Configuration File&quot;">​</a></h2><p>You can also provide a <code>config.yaml</code> file in the root directory of the application. The structure mirrors the environment variables.</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">env</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">development</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">port</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8080</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">log_level</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">info</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">db</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  host</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">localhost</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  port</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5432</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  user</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">postgres</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  password</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">password</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">rainlogs</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">redis</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  host</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">localhost</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  port</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6379</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  password</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">storage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  endpoint</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">http://localhost:3900</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  region</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">us-east-1</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  bucket</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">rainlogs-data</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  access_key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">your-access-key</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  secret_key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">your-secret-key</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">kms</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">your-base64-encoded-key</span></span></code></pre></div><h2 id="zero-config-initialization" tabindex="-1">Zero-Config Initialization <a class="header-anchor" href="#zero-config-initialization" aria-label="Permalink to &quot;Zero-Config Initialization&quot;">​</a></h2><p>If the <code>RAINLOGS_STORAGE_ACCESS_KEY</code> and <code>RAINLOGS_STORAGE_SECRET_KEY</code> are not provided, Rainlogs will attempt to automatically generate them by connecting to the Garage S3 instance and creating the necessary buckets. This is the recommended approach for local development and testing.</p>`,19)])])}const E=s(n,[["render",d]]);export{k as __pageData,E as default};
